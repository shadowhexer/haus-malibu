<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guest Information</title>
    <script type="module" src='./js/html-include-element.js'></script>
    <script type="module" src="./js/webcomponents-loader.js"></script>
    <link rel="stylesheet" href="./css/guest-info.css">
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <html-include src="./header.html" no-shadow same-origin></html-include>

    <section class="hero">
        <div class="hero-content">
            <h1>Guest Information</h1>
        </div>
    </section>

    <section class="guest-info-section">
        <h2>Guest Details</h2>
        <form class="guest-info-form" action="php/submit_booking.php" method="post" enctype="multipart/form-data">
            <div>
                <input type="hidden" id="room-id" name="room-id">
                <div>
                    <label for="first_name">First Name:</label>
                    <input type="text" id="first_name" name="first_name" required>
                </div>
                <div>
                    <label for="last_name">Last Name:</label>
                    <input type="text" id="last_name" name="last_name" required>
                </div>
                <div>
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div>
                    <label for="phone">Phone Number:</label>
                    <input type="tel" id="phone" name="phone">
                </div>
                <div>
                    <label for="address">Address:</label>
                    <input type="text" id="address" name="address">
                </div>
                <div>
                    <label for="city">City:</label>
                    <input type="text" id="city" name="city">
                </div>
                <div>
                    <label for="country">Country:</label>
                    <select id="country" name="country">
                        <option value="">Select Country</option>
                        <option value="philippines">Philippines</option>
                        <option value="usa">United States</option>
                        <option value="canada">Canada</option>
                    </select>
                </div>
                <div>
                    <label for="check-in">Check-In:</label>
                    <input type="date" id="check-in" name="check-in" onfocus="(this.type='date')" required />
                </div>
                <div>
                    <label for="check-out">Check-Out:</label>
                    <input type="date" id="check-out" name="check-out" onfocus="(this.type='date')" required/>
                </div>
                <div>
                    <label for="special_requests">Special Requests (Optional):</label>
                    <textarea id="special_requests" name="special_requests" rows="3"></textarea>
                </div>
                <div class="guest-info-button-container">
                    <button formaction="php/submit_booking.php" class="guest-info-button">Submit</button>
                </div>
        </form>

    </section>

    <footer>
        <img class="footer-logo" src="images/logo.png" alt="Haus Malibu Logo">
        <div class="social-links">
            <a href="https://www.facebook.com" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://instagram.com" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
        </div>
        <p>&copy; 2025 Haus Malibu. All rights reserved.</p>
    </footer>

    <script>
        // Fetching the GET parameters in the URL
        const urlParams = new URLSearchParams(window.location.search);
        const roomId = urlParams.get('id');

        if (!isNaN(roomId)) {
            document.getElementById("room-id").value = roomId;
        } else {
            console.warn("No room ID found in URL.");
        }
    </script>
</body>

</html>